工具：typora。



# 归并排序（merge sort）

关键词语：

步长、迭代、递归。

一分为二，然后单独排序，最后merge这两个，merge的时候准备两个辅助指针，一个辅助数组，有序后再copy回去原来的数组。

实现方法有`递归`和`迭代`的两个方式：

步长的概念，没有递归行为，但是有迭代的概念。比较节省比较行为。

步长每一次都要遍历一次N，每一次的比较复杂度是log(N)，所以最终的是： N*log(N)。迭代方式中的步长最终是要小于数组长度，步长每次是2倍增长的。



## 相关题目：

### 小和问题

描述：

从头遍历，每次定位该位置左边比他小的数，累加起来作为一个结果sum，然后把所有的sum加起来得到最终结果result。

归并排序的思路：

从最小的粒度考虑，如果左边的比右边的小，则返回左边的数，小的个数可以根据`步长+右边指针`的位置来确定

### 逆序对问题：

描述：

还是一个数组，从头遍历如果找到左边比他小的数，他们俩就组成一个逆序对，一轮遍历可以求出来一轮的个数；然后，把所有的加起来。

分组后，先拿右边和左边比较。

### 二倍小于左边问题

描述：从左遍历，右边数的二倍比该数还要小，则认为是一个有效数据，每一轮的有效数据相加，是最终结果。

[5, 2, 1, 9, 1]

5 大约 2 * 2、1 * 2 、1 * 2

这一轮有3个有效数据。

等等，一次类推。





> 以上问题的本质都是，在归并排序的过程中，完成了比较，其实核心就是利用了上一步的比较结果，不做过多的比较行为。



具有单调性、不回退的思路。



## 前缀数组

区间和问题。

